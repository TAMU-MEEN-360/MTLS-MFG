<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Engineering Stress–Strain (ASTM A36 Steel)</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f3f4f6;
      color: #111827;
    }
    h1, p { text-align: center; }
    p { color: #374151; }

    .plot-wrap {
      max-width: 1050px;
      margin: 0 auto 24px;
      background: white;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }

    #curveMain, #curveZoom {
      width: 100%;
      height: 560px;
    }

    a {
      display: block;
      text-align: center;
      margin-top: 18px;
      color: #4f46e5;
      text-decoration: none;
    }
  </style>
</head>

<body>

<h1>Engineering Stress–Strain (ASTM A36 Steel)</h1>
<p>Hover to explore elastic behavior, yield, and energy concepts.</p>

<div class="plot-wrap">
  <div id="curveMain"></div>
</div>

<div class="plot-wrap">
  <div id="curveZoom"></div>
</div>

<a href="index.html">← Back to Home</a>

<script>
/* -----------------------------
   Material constants (A36)
----------------------------- */
const E = 200000;        // MPa
const sigmaUTS = 430;   // MPa

/* -----------------------------
   Elastic & yield (close together)
----------------------------- */
const epsElastic = 0.00125;
const sigmaElastic = E * epsElastic;

const epsYield = 0.0015;
const sigmaYield = E * (epsYield - 0.002 + 0.002); // keeps on curve

/* -----------------------------
   Stress–strain curve
----------------------------- */
const curve = [
  {x: 0.0,          y: 0},
  {x: epsElastic,   y: sigmaElastic},
  {x: epsYield,     y: sigmaYield},
  {x: 0.010,        y: 275},
  {x: 0.030,        y: 310},
  {x: 0.070,        y: 380},
  {x: 0.120,        y: sigmaUTS},
  {x: 0.180,        y: 410},
  {x: 0.250,        y: 340}   // fracture
];

/* -----------------------------
   0.2% offset line
----------------------------- */
const offsetX = [];
const offsetY = [];
for (let e = 0.001; e <= 0.006; e += 0.00005) {
  offsetX.push(e);
  offsetY.push(E * (e - 0.002));
}

/* -----------------------------
   Special points
----------------------------- */
const ptE = { x: 0.0007, y: E * 0.0007 };
const ptUTS = { x: 0.120, y: sigmaUTS };
const ptFrac = curve[curve.length - 1];

/* -----------------------------
   Tensile toughness area (integral)
----------------------------- */
const toughnessTrace = {
  x: [...curve.map(p => p.x), curve[curve.length - 1].x, 0],
  y: [...curve.map(p => p.y), 0, 0],
  fill: 'toself',
  fillcolor: 'rgba(79,70,229,0.15)',
  line: { width: 0 },
  hovertemplate:
    `<b>Tensile Toughness</b><br>` +
    `Energy absorbed to fracture<br>` +
    `Area under the σ–ε curve<extra></extra>`
};

/* -----------------------------
   Traces
----------------------------- */
const curveTrace = {
  x: curve.map(p => p.x),
  y: curve.map(p => p.y),
  mode: 'lines',
  line: { width: 4 },
  hoverinfo: 'skip'
};

const offsetTrace = {
  x: offsetX,
  y: offsetY,
  mode: 'lines',
  line: { dash: 'dash', width: 2, color: 'green' },
  hoverinfo: 'skip'
};

const pointsTrace = {
  x: [
    ptE.x,
    epsElastic,
    epsYield,
    ptUTS.x,
    ptFrac.x
  ],
  y: [
    ptE.y,
    sigmaElastic,
    sigmaYield,
    ptUTS.y,
    ptFrac.y
  ],
  mode: 'markers',
  marker: { size: 10 },
  text: [
    `<b>Modulus of Elasticity</b><br>σ = Eε`,
    `<b>Elastic (Proportional) Limit</b>`,
    `<b>Yield Strength (0.2% Offset)</b>`,
    `<b>Ultimate Tensile Strength</b>`,
    `<b>Fracture</b>`
  ],
  hovertemplate: '%{text}<extra></extra>'
};

/* -----------------------------
   Layout
----------------------------- */
function layout(zoom) {
  return {
    xaxis: {
      title: 'Strain, ε (in/in)',
      range: zoom ? [0, 0.01] : [0, 0.27]
    },
    yaxis: {
      title: 'Stress, σ (MPa)',
      range: [0, 500]
    },
    margin: { t: 30, l: 70, r: 20, b: 70 },
    showlegend: false
  };
}

/* -----------------------------
   Render
----------------------------- */
Plotly.newPlot(
  'curveMain',
  [toughnessTrace, curveTrace, offsetTrace, pointsTrace],
  layout(false),
  { responsive: true }
);

Plotly.newPlot(
  'curveZoom',
  [toughnessTrace, curveTrace, offsetTrace, pointsTrace],
  layout(true),
  { responsive: true }
);
</script>

</body>
</html>
