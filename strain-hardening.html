<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Engineering Stress–Strain (ASTM A36 Steel)</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f3f4f6;
      color: #111827;
    }
    h1, p { text-align: center; }
    p { color: #374151; }

    .plot-wrap {
      max-width: 1050px;
      margin: 0 auto 24px;
      background: white;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }

    #curveMain, #curveZoom {
      width: 100%;
      height: 560px;
    }

    a {
      display: block;
      text-align: center;
      margin-top: 18px;
      color: #4f46e5;
      text-decoration: none;
    }
  </style>
</head>

<body>

<h1>Engineering Stress–Strain (ASTM A36 Steel)</h1>
<p>Hover over points and guides to identify material properties.</p>

<div class="plot-wrap">
  <div id="curveMain"></div>
</div>

<div class="plot-wrap">
  <div id="curveZoom"></div>
</div>

<a href="index.html">← Back to Home</a>

<script>
/* -----------------------------
   Material constants
----------------------------- */
const E = 200000;       // MPa
const sigmaUTS = 430;  // MPa

/* -----------------------------
   Key strains / stresses
----------------------------- */
const epsProp = 0.0011;
const sigmaProp = E * epsProp;

/* -----------------------------
   Stress–strain curve (illustrative)
----------------------------- */
const curve = [
  {x: 0.0,     y: 0},
  {x: epsProp,y: sigmaProp},
  {x: 0.0025,  y: 260},
  {x: 0.010,   y: 270},
  {x: 0.030,   y: 310},
  {x: 0.070,   y: 380},
  {x: 0.120,   y: sigmaUTS},
  {x: 0.180,   y: 410},
  {x: 0.250,   y: 340}   // fracture
];

/* -----------------------------
   0.2% offset yield (explicit)
   σ = E(ε − 0.002)
----------------------------- */
const epsYield = 0.00325;
const sigmaYield = E * (epsYield - 0.002);

/* -----------------------------
   Offset line
----------------------------- */
const offsetX = [];
const offsetY = [];
for (let e = 0.002; e <= 0.008; e += 0.00005) {
  offsetX.push(e);
  offsetY.push(E * (e - 0.002));
}

/* -----------------------------
   Special points
----------------------------- */
const ptE = { x: 0.0006, y: E * 0.0006 };
const ptUTS = { x: 0.120, y: sigmaUTS };
const ptFrac = curve[curve.length - 1];

/* Safe hover points */
const offsetHover = { x: 0.006, y: E * (0.006 - 0.002) };
const resHover = { x: 0.0045, y: 120 };
const toughHover = { x: 0.21, y: 120 };

/* -----------------------------
   Traces
----------------------------- */
const curveTrace = {
  x: curve.map(p => p.x),
  y: curve.map(p => p.y),
  mode: 'lines',
  line: { width: 4 },
  hoverinfo: 'skip'
};

const offsetTrace = {
  x: offsetX,
  y: offsetY,
  mode: 'lines',
  line: { dash: 'dash', width: 2, color: 'green' },
  hoverinfo: 'skip'
};

const pointsTrace = {
  x: [
    ptE.x,
    epsProp,
    epsYield,
    ptUTS.x,
    ptFrac.x,
    offsetHover.x,
    resHover.x,
    toughHover.x
  ],
  y: [
    ptE.y,
    sigmaProp,
    sigmaYield,
    ptUTS.y,
    ptFrac.y,
    offsetHover.y,
    resHover.y,
    toughHover.y
  ],
  mode: 'markers',
  marker: { size: 10 },
  text: [
    `<b>Modulus of Elasticity, E</b><br>σ = Eε`,
    `<b>Proportional (Elastic) Limit</b><br>End of linear behavior`,
    `<b>Yield Strength (0.2% Offset)</b><br>Permanent deformation begins`,
    `<b>Ultimate Tensile Strength</b><br>Maximum engineering stress`,
    `<b>Fracture</b><br>Final failure`,
    `<b>0.2% Offset Line</b><br>σ = E(ε − 0.002)`,
    `<b>Modulus of Resilience</b><br>Elastic energy per unit volume<br><b>Uᵣ = ½ σᵧ εᵧ</b>`,
    `<b>Tensile Toughness</b><br>Total energy absorbed to fracture<br>Area under full curve`
  ],
  hovertemplate: '%{text}<extra></extra>'
};

/* -----------------------------
   Layout with dotted guide lines
----------------------------- */
function layout(zoom) {
  return {
    xaxis: {
      title: 'Strain, ε (in/in)',
      range: zoom ? [0, 0.01] : [0, 0.27]
    },
    yaxis: {
      title: 'Stress, σ (MPa)',
      range: [0, 500]
    },
    shapes: [
      /* Resilience guide */
      {
        type: 'line',
        x0: epsYield, y0: 0,
        x1: epsYield, y1: sigmaYield,
        line: { dash: 'dot', width: 2 }
      },
      /* Toughness guide */
      {
        type: 'line',
        x0: ptFrac.x, y0: 0,
        x1: ptFrac.x, y1: ptFrac.y,
        line: { dash: 'dot', width: 2 }
      }
    ],
    margin: { t: 30, l: 70, r: 20, b: 70 },
    showlegend: false
  };
}

Plotly.newPlot(
  'curveMain',
  [curveTrace, offsetTrace, pointsTrace],
  layout(false),
  { responsive: true }
);

Plotly.newPlot(
  'curveZoom',
  [curveTrace, offsetTrace, pointsTrace],
  layout(true),
  { responsive: true }
);
</script>

</body>
</html>

