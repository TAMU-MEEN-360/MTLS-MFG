<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Failure Scenarios Flowchart</title>

<!-- MathJax -->
<script>
window.MathJax = {
  tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
  svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
body{
  font-family: Arial, sans-serif;
  margin:40px;
  background:#f3f4f6;
  color:#111827;
}
h1{text-align:center;margin-bottom:6px;}
p.sub{text-align:center;color:#374151;margin-bottom:20px;}

.wrap{
  max-width:1050px;
  margin:auto;
  background:white;
  border-radius:14px;
  padding:20px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
}

.flow{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
}

.node{
  background:#2563eb;
  color:white;
  padding:14px 18px;
  border-radius:12px;
  font-weight:800;
  font-size:1.3rem;
}

.stem{
  width:4px;
  height:24px;
  background:#93c5fd;
  border-radius:999px;
}

.bus{
  height:4px;
  width:90%;
  background:#93c5fd;
  border-radius:999px;
  position:relative;
}

.bus .drop{
  position:absolute;
  width:4px;
  height:18px;
  background:#93c5fd;
  border-radius:999px;
  transform:translateX(-50%);
}
.bus .left{left:16.6%;}
.bus .mid{left:50%;}
.bus .right{left:83.3%;}

.branchRow{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:18px;
  width:100%;
}

.card{
  background:#1d4ed8;
  color:white;
  border-radius:14px;
  padding:16px;
  box-shadow:0 6px 14px rgba(0,0,0,0.1);
  cursor:pointer;
  transition:0.15s ease;
  position:relative;
}
.card:hover{
  transform:translateY(-3px);
  box-shadow:0 10px 20px rgba(0,0,0,0.14);
}

.title{
  font-weight:800;
  margin-bottom:10px;
}

.eq{
  background:rgba(255,255,255,0.12);
  border-radius:10px;
  padding:10px;
  margin-bottom:10px;
}

.imgBox{
  background:rgba(255,255,255,0.12);
  border-radius:10px;
  padding:8px;
  margin-bottom:10px;
}

.imgBox svg{
  width:100%;
  height:95px;
}

.examples{
  display:none;
  background:rgba(255,255,255,0.15);
  border-radius:10px;
  padding:10px;
  font-size:0.9rem;
  margin-top:8px;
}

.card.open .examples{
  display:block;
}

.tip{
  position:absolute;
  bottom:12px;
  left:12px;
  right:12px;
  background:white;
  color:#111827;
  padding:10px;
  border-radius:10px;
  opacity:0;
  transform:translateY(6px);
  transition:0.15s ease;
  font-size:0.9rem;
  pointer-events:none;
}
.card:hover .tip{
  opacity:1;
  transform:translateY(0);
}

@media(max-width:900px){
  .branchRow{grid-template-columns:1fr;}
  .bus,.stem{display:none;}
}
</style>
</head>

<body>

<h1>Failure Scenarios Flowchart</h1>
<p class="sub">Hover for explanation. Click a card for worked examples.</p>

<div class="wrap">
<div class="flow">

<div class="node">Failure</div>
<div class="stem"></div>

<div class="bus">
<div class="drop left"></div>
<div class="drop mid"></div>
<div class="drop right"></div>
</div>

<div class="branchRow">

<!-- STATIC + FLAW -->
<div class="card">
<div class="title">Static loading + flaw</div>

<div class="imgBox">
<svg viewBox="0 0 320 120">
<rect x="90" y="18" width="170" height="84" rx="10" fill="white"/>

<!-- EDGE CRACK LEFT -->
<path d="M90 62 L108 56 L108 68 Z" fill="#111827"/>
<path d="M108 62 C118 58,120 66,130 62 C140 58,142 66,152 62"
stroke="#111827" stroke-width="3" fill="none"/>

<!-- LOAD arrows beside crack -->
<path d="M65 30 L65 90" stroke="#16a34a" stroke-width="8" stroke-linecap="round"/>
<polygon points="65,22 54,38 76,38" fill="#16a34a"/>
<polygon points="65,98 54,82 76,82" fill="#16a34a"/>
</svg>
</div>

<div class="eq">
\( K = f\sigma\sqrt{\pi a} \)<br>
Failure if \(K \ge K_{IC}\)
</div>

<div class="examples">
<b>Examples:</b><br>
• Pressure vessel with weld crack<br>
• Brittle plate under high tensile load<br><br>
<b>You calculate:</b><br>
Critical crack size or stress intensity factor.
</div>

<div class="tip">
Used for single/slow loading when a crack controls failure.
</div>
</div>


<!-- FATIGUE NO FLAW -->
<div class="card">
<div class="title">Fatigue (no flaw)</div>

<div class="imgBox">
<svg viewBox="0 0 320 120">
<rect x="40" y="44" width="60" height="32" rx="6" fill="white"/>
<rect x="220" y="44" width="60" height="32" rx="6" fill="white"/>
<path d="M100 60 C130 45,170 45,200 60 C170 75,130 75,100 60 Z" fill="white"/>

<!-- Cyclic arrows -->
<path d="M160 20 L160 44" stroke="#60a5fa" stroke-width="8"/>
<polygon points="160,14 149,30 171,30" fill="#60a5fa"/>
<path d="M160 76 L160 100" stroke="#60a5fa" stroke-width="8"/>
<polygon points="160,106 149,90 171,90" fill="#60a5fa"/>
</svg>
</div>

<div class="eq">
Use S–N curve or endurance limit.
</div>

<div class="examples">
<b>Examples:</b><br>
• Rotating shaft<br>
• Spring under cyclic load<br><br>
<b>You calculate:</b><br>
Fatigue life \(N\) or allowable stress amplitude.
</div>

<div class="tip">
Used for cyclic loading when no dominant crack exists.
</div>
</div>


<!-- FATIGUE + FLAW -->
<div class="card">
<div class="title">Fatigue + flaw</div>

<div class="imgBox">
<svg viewBox="0 0 320 120">
<rect x="70" y="18" width="170" height="84" rx="10" fill="white"/>

<!-- EDGE CRACK RIGHT -->
<path d="M240 62 L222 56 L222 68 Z" fill="#111827"/>
<path d="M222 62 C212 58,210 66,200 62 C190 58,188 66,178 62"
stroke="#111827" stroke-width="3" fill="none"/>

<!-- Cyclic arrows beside crack -->
<path d="M265 30 L265 90" stroke="#60a5fa" stroke-width="8"/>
<polygon points="265,22 254,38 276,38" fill="#60a5fa"/>
<polygon points="265,98 254,82 276,82" fill="#60a5fa"/>
</svg>
</div>

<div class="eq">
\( \dfrac{da}{dN} = C(\Delta K)^n \)<br>
\( \Delta K = f(\sigma_{max}-\sigma_{min})\sqrt{\pi a} \)
</div>

<div class="examples">
<b>Examples:</b><br>
• Aircraft skin with detected crack<br>
• Pipeline with known flaw<br><br>
<b>You calculate:</b><br>
Crack growth life from \(a_i\) to \(a_c\).
</div>

<div class="tip">
Used for cyclic loading when a crack already exists.
</div>
</div>

</div>
</div>
</div>

<script>
document.querySelectorAll(".card").forEach(card=>{
  card.addEventListener("click",()=>{
    card.classList.toggle("open");
  });
});
</script>

</body>
</html>
