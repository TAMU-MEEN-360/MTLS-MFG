<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Failure Scenarios Flowchart</title>

  <!-- MathJax for equations -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <style>
    body{
      font-family: Arial, sans-serif;
      margin: 40px;
      background:#f3f4f6;
      color:#111827;
    }
    h1{ text-align:center; margin: 0 0 8px; }
    p.sub{ text-align:center; color:#374151; margin:0 0 18px; }

    .wrap{
      max-width: 1050px;
      margin: 0 auto;
      background: #fff;
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }

    /* ---- Flowchart layout ---- */
    .flow{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 16px;
      padding: 10px 6px 6px;
    }

    .node{
      background:#2563eb;
      color:#fff;
      border-radius:12px;
      padding: 14px 16px;
      text-align:center;
      width: min(520px, 95%);
      box-shadow: 0 6px 14px rgba(0,0,0,0.10);
    }
    .node h2{ margin:0; font-weight:800; font-size: 1.35rem; }

    .stem{
      width: 4px;
      height: 22px;
      background: #93c5fd;
      border-radius: 999px;
    }

    .bus{
      height: 4px;
      width: min(860px, 95%);
      background:#93c5fd;
      border-radius: 999px;
      position: relative;
      margin: -2px 0 -8px;
    }
    .bus .drop{
      position:absolute;
      top:0;
      width: 4px;
      height: 18px;
      background:#93c5fd;
      border-radius:999px;
      transform: translateX(-50%);
    }
    .bus .drop.left{ left: 16.7%; }
    .bus .drop.mid{ left: 50%; }
    .bus .drop.right{ left: 83.3%; }

    .branchRow{
      display:grid;
      grid-template-columns: repeat(3, minmax(240px, 1fr));
      gap: 14px;
      width: 100%;
      align-items: stretch;
      margin-top: 6px;
    }

    .card{
      position: relative;
      background:#1d4ed8;
      color:#fff;
      border-radius:14px;
      padding: 14px 14px 12px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.10);
      min-height: 210px;
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.14s ease, box-shadow 0.14s ease;
    }
    .card:hover{
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.14);
    }

    .title{
      font-size: 1.05rem;
      font-weight: 800;
      margin-bottom: 10px;
      line-height: 1.2;
    }

    .eq{
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 12px;
      padding: 10px 10px;
      font-size: 0.98rem;
      line-height: 1.35;
      margin-bottom: 10px;
    }
    .eq small{ opacity:0.92; display:block; margin-top:6px; }

    .imgBox{
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.16);
      border-radius: 12px;
      padding: 8px;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom: 10px;
    }
    .imgBox svg{ width: 100%; height: 92px; }

    /* Hover tooltip (quick definition) */
    .tip{
      position:absolute;
      left: 12px;
      right: 12px;
      bottom: 12px;
      background: rgba(255,255,255,0.98);
      color:#111827;
      border-radius: 12px;
      padding: 10px 10px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
      opacity: 0;
      transform: translateY(8px);
      transition: 0.16s ease;
      pointer-events:none;
      font-size: 0.92rem;
      line-height: 1.35;
    }
    .card:hover .tip{ opacity: 1; transform: translateY(0); }
    .tip b{ display:block; margin-bottom: 4px; }

    /* Click-to-expand Examples panel */
    .examples{
      display:none;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 12px;
      padding: 10px;
      margin-top: 10px;
      color: #fff;
      font-size: 0.92rem;
      line-height: 1.35;
    }
    .card.open .examples{ display:block; }

    .btnRow{
      display:flex;
      gap: 8px;
      align-items:center;
      margin-top: 6px;
    }
    .btn{
      background: rgba(255,255,255,0.18);
      border: 1px solid rgba(255,255,255,0.24);
      color:#fff;
      border-radius: 10px;
      padding: 7px 10px;
      font-size: 0.88rem;
      font-weight: 700;
      cursor: pointer;
    }
    .btn:hover{ background: rgba(255,255,255,0.24); }

    .muted{ opacity: 0.92; font-size: 0.88rem; }

    @media (max-width: 920px){
      .branchRow{ grid-template-columns: 1fr; }
      .bus, .stem{ display:none; }
    }

    a.back{
      display:block;
      text-align:center;
      margin-top:18px;
      color:#4f46e5;
      text-decoration:none;
    }
    a.back:hover{ text-decoration:underline; }
  </style>
</head>

<body>
  <h1>Failure Scenarios Flowchart</h1>
  <p class="sub">Hover for quick meaning. Click a card to toggle examples.</p>

  <div class="wrap">
    <div class="flow">
      <div class="node"><h2>Failure</h2></div>
      <div class="stem"></div>

      <div class="bus">
        <div class="drop left"></div>
        <div class="drop mid"></div>
        <div class="drop right"></div>
      </div>

      <div class="branchRow">

        <!-- Static loading + flaw -->
        <div class="card" data-card="static">
          <div class="title">Static loading + flaw</div>

          <div class="imgBox" aria-label="Static loading with crack illustration">
            <!-- Inline SVG illustration -->
            <svg viewBox="0 0 320 120" role="img">
              <!-- specimen -->
              <rect x="70" y="18" width="180" height="84" rx="10" fill="rgba(255,255,255,0.92)"/>
              <!-- crack -->
              <path d="M160 62 C145 55, 145 70, 130 62 C115 55, 115 70, 100 62" stroke="#111827" stroke-width="3" fill="none"/>
              <!-- load arrows (static) -->
              <path d="M35 30 L35 90" stroke="#16a34a" stroke-width="8" stroke-linecap="round"/>
              <polygon points="35,22 24,38 46,38" fill="#16a34a"/>
              <polygon points="35,98 24,82 46,82" fill="#16a34a"/>
              <text x="18" y="18" fill="rgba(255,255,255,0.92)" font-size="12">load</text>
            </svg>
          </div>

          <div class="eq">
            \( K = f\,\sigma\,\sqrt{\pi a} \)
            <small>Compare to toughness: \(K \ge K_{IC}\) → failure</small>
          </div>

          <div class="btnRow">
            <button class="btn" type="button" data-toggle="static">Examples</button>
            <span class="muted">Click card too</span>
          </div>

          <div class="examples" id="ex-static">
            <b>Real examples</b>
            • Pressure vessel with a known weld defect<br>
            • Plate with a visible notch/crack under a single high load<br>
            • Brittle component where cracks dominate strength<br><br>
            <b>What you compute</b>
            • Stress intensity \(K\) at the crack tip<br>
            • Critical crack size \(a_c\) such that \(K(a_c)=K_{IC}\)
          </div>

          <div class="tip">
            <b>When to use</b>
            One-time/slow load + a crack/flaw of size \(a\) matters.
          </div>
        </div>

        <!-- Fatigue (no flaw) -->
        <div class="card" data-card="sn">
          <div class="title">Fatigue (no flaw)</div>

          <div class="imgBox" aria-label="Fatigue test specimen illustration">
            <svg viewBox="0 0 320 120" role="img">
              <!-- grips -->
              <rect x="18" y="44" width="58" height="32" rx="6" fill="rgba(255,255,255,0.92)"/>
              <rect x="244" y="44" width="58" height="32" rx="6" fill="rgba(255,255,255,0.92)"/>
              <!-- dogbone -->
              <path d="M76 60
                       C100 42, 120 42, 140 52
                       L180 52
                       C200 42, 220 42, 244 60
                       C220 78, 200 78, 180 68
                       L140 68
                       C120 78, 100 78, 76 60 Z"
                    fill="rgba(255,255,255,0.92)"/>
              <!-- cyclic arrows -->
              <path d="M160 20 L160 44" stroke="#60a5fa" stroke-width="8" stroke-linecap="round"/>
              <polygon points="160,14 149,30 171,30" fill="#60a5fa"/>
              <path d="M160 76 L160 100" stroke="#60a5fa" stroke-width="8" stroke-linecap="round"/>
              <polygon points="160,106 149,90 171,90" fill="#60a5fa"/>
              <text x="142" y="16" fill="rgba(255,255,255,0.92)" font-size="12">cyclic</text>
            </svg>
          </div>

          <div class="eq">
            Endurance / S–N approach
            <small>Use stress amplitude \(\sigma_a\) vs cycles \(N\)</small>
          </div>

          <div class="btnRow">
            <button class="btn" type="button" data-toggle="sn">Examples</button>
            <span class="muted">Click card too</span>
          </div>

          <div class="examples" id="ex-sn">
            <b>Real examples</b>
            • Rotating shaft in bending (no detected crack)<br>
            • Springs under repeated loading<br>
            • Bolts experiencing vibration cycles<br><br>
            <b>What you compute</b>
            • Stress amplitude \(\sigma_a\), mean stress \(\sigma_m\) (if needed)<br>
            • Life \(N\) from S–N data, or safety factor vs endurance limit
          </div>

          <div class="tip">
            <b>When to use</b>
            Cyclic loading + no dominant pre-existing crack (design assumption).
          </div>
        </div>

        <!-- Fatigue + flaw -->
        <div class="card" data-card="paris">
          <div class="title">Fatigue + flaw</div>

          <div class="imgBox" aria-label="Crack growth with cyclic loading illustration">
            <svg viewBox="0 0 320 120" role="img">
              <!-- specimen -->
              <rect x="70" y="18" width="180" height="84" rx="10" fill="rgba(255,255,255,0.92)"/>
              <!-- crack -->
              <path d="M155 62 C142 55, 142 70, 128 62 C114 55, 114 70, 100 62" stroke="#111827" stroke-width="3" fill="none"/>
              <!-- cyclic load arrows -->
              <path d="M285 30 L285 90" stroke="#60a5fa" stroke-width="8" stroke-linecap="round"/>
              <polygon points="285,22 274,38 296,38" fill="#60a5fa"/>
              <polygon points="285,98 274,82 296,82" fill="#60a5fa"/>
              <text x="268" y="18" fill="rgba(255,255,255,0.92)" font-size="12">cyclic</text>
              <!-- crack growth hint -->
              <path d="M160 62 L190 62" stroke="#ef4444" stroke-width="3"/>
              <polygon points="196,62 186,56 186,68" fill="#ef4444"/>
            </svg>
          </div>

          <div class="eq">
            \( \dfrac{da}{dN} = C(\Delta K)^n \)
            <small>\( \Delta K = f(\sigma_{max}-\sigma_{min})\sqrt{\pi a} \)</small>
          </div>

          <div class="btnRow">
            <button class="btn" type="button" data-toggle="paris">Examples</button>
            <span class="muted">Click card too</span>
          </div>

          <div class="examples" id="ex-paris">
            <b>Real examples</b>
            • Aircraft skin with an inspected crack (damage tolerance)<br>
            • Pipeline/pressure vessel with detected flaw under pressure cycles<br>
            • Structural member with a known notch + vibration loading<br><br>
            <b>What you compute</b>
            • \(\Delta K(a)\) over the cycle range<br>
            • Crack growth life: integrate Paris law from \(a_i\to a_c\)<br>
            • Failure when \(K_{max}(a)\ge K_{IC}\)
          </div>

          <div class="tip">
            <b>When to use</b>
            Cyclic loading + a known flaw/crack that can grow with cycles.
          </div>
        </div>

      </div>
    </div>
  </div>

  <a class="back" href="index.html">← Back to Home</a>

  <script>
    // Toggle examples on click (card or button).
    function toggleCard(cardEl) {
      cardEl.classList.toggle('open');
    }

    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('click', (e) => {
        // If you click a button, we still toggle, but prevent accidental double toggle by stopping bubbling.
        if (e.target && e.target.matches('button[data-toggle]')) return;
        toggleCard(card);
      });
    });

    document.querySelectorAll('button[data-toggle]').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const key = btn.getAttribute('data-toggle');
        const card = btn.closest('.card');
        if (!card) return;
        toggleCard(card);
      });
    });
  </script>
</body>
</html>
